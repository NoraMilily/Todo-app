# Next.js Todo List (App Router) + NextAuth v5 (Credentials) + Prisma (PostgreSQL)

## Features

- Next.js App Router + TypeScript
- Tailwind CSS
- Auth (NextAuth v5 Credentials): registration + login (email/password)
- Password hashing with `bcryptjs`
- JWT sessions
- PostgreSQL persistence via Prisma
- Per-user todos (CRUD): add, toggle complete, edit text, delete
- Protected `/` route (redirects to `/auth/login`)

## Setup (Docker Postgres)

### 1) Start PostgreSQL

```bash
docker-compose up -d
```

### 2) Install dependencies

```bash
npm install
```

### 3) Configure environment variables

Copy the example env file:

```bash
# Windows PowerShell
Copy-Item .env.example .env
```

Generate `NEXTAUTH_SECRET`:

```bash
npx auth secret
```

Then paste it into `.env`.

### 4) Create DB tables (Prisma migrations)

```bash
npx prisma migrate dev
```

### 5) Run the dev server

```bash
npm run dev
```

Visit:
- `http://localhost:3000/auth/register`
- `http://localhost:3000/auth/login`
- `http://localhost:3000/` (protected)

## Setup (without Docker)

If you already have PostgreSQL running locally, update `DATABASE_URL` in `.env` accordingly, then run:

```bash
npm install
npx prisma migrate dev
npm run dev
```

## Project structure

- `src/app/` вЂ“ routes, layouts, server actions
- `src/components/` вЂ“ reusable UI components
- `src/lib/` вЂ“ Prisma client + auth utilities
- `prisma/` вЂ“ Prisma schema (migrations generated by `prisma migrate dev`)

## Notes

- Auth config lives in `src/lib/auth.ts` and is exposed via `src/app/api/auth/[...nextauth]/route.ts`.
- Todo mutations use Server Actions (`src/app/actions/todos.ts`).
